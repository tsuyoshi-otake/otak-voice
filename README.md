![claudeの利用例](otak-voice.gif)

# otak-voice - ユニバーサル音声入力拡張機能

otak-voiceは、あらゆるウェブサイトで使える高度な音声入力拡張機能です。

## 主な機能

- **どこでも使える音声入力**: あらゆるウェブサイトのテキスト入力欄で使用可能
- **GPT-4.1-miniによる自動文脈修正**: 音声認識結果を自動的に校正
- **GPT-4.1による高精度校閲**: 入力内容全体を高精度AIモデルで校閲
- **SPA（シングルページアプリケーション）対応**: 画面遷移後も自動的に再初期化
- **追記モード**: 既存のテキストに追記可能
- **自動送信機能**: 音声入力後に自動的に送信ボタンをクリック
- **モーダルウィンドウ表示**: 入力フィールドが見つからない場合やTwitterなどの特定サイトでモーダルウィンドウに結果を表示
- **自動認識ON/OFF**: 設定から音声認識の自動開始を切り替え可能
- **多言語対応**: 日本語、英語、ベトナム語をサポート
- **ダークモード/ライトモード**: テーマ切り替え機能

## 使い方

1. 拡張機能のアイコンをクリックしてメニューを開きます
2. マイクボタンをクリックして音声入力を開始します
3. 話し終わると自動的に認識結果がテキスト入力欄に挿入されます
4. 必要に応じて校閲ボタンをクリックし、GPT-4.1で内容を校正できます
5. 設定ボタン（⚙️）からAPIキーや各種設定を変更できます

## UI要素の説明

### メインメニュー

- **マイクボタン** (🎙): 音声認識を開始/停止します
- **追記モードボタン** (+): 既存のテキストに追記するモードを切り替えます
- **クリアボタン** (✕): 現在の入力フィールドの内容をクリアします
- **校閲ボタン** (✓): 現在の入力内容をGPT-4.1で校閲します
- **編集ボタン** (✎): 音声指示による編集モードを開始します
- **設定ボタン** (⚙): 設定モーダルを開きます
- **履歴ボタン** (🕒): 過去の音声入力履歴を表示します
- **テーマ切替ボタン**: ダークモードとライトモードを切り替えます
- **モーダル表示切替ボタン**: モーダルウィンドウ表示のON/OFFを切り替えます
- **自動送信ボタン**: 音声入力後の自動送信機能のON/OFFを切り替えます

### 設定モーダル

設定ボタンをクリックすると表示される設定モーダルでは、以下の設定が可能です：

## 詳細設定

### API設定
- **OpenAI API Key**: OpenAIのAPIキーを設定します。校正・校閲機能を使用するために必要です。

### 表示設定
- **認識言語**: 音声認識に使用する言語を選択します（日本語/英語/ベトナム語）
- **テーマ**: ダークモードまたはライトモードを選択します

### 機能設定
- **入力フィールド自動検出**: ONにすると、ページ内の最適な入力フィールドを自動的に検出します
- **自動校正**: ONにすると、音声認識結果をGPT-4o-miniで自動的に校正します
- **履歴コンテキスト使用**: ONにすると、校正時に過去の入力履歴をコンテキストとして使用します
- **モーダルウィンドウ表示**: ONにすると、入力フィールドが見つからない場合やTwitterなどの特定サイトでモーダルウィンドウに結果を表示します
- **自動送信**: ONにすると、音声入力後に自動的に送信ボタンをクリックします
- **無音検出時間**: 音声認識を自動的に停止する無音時間を設定します（ミリ秒）

### プロンプト設定
- **自動校正プロンプト**: GPT-4o-miniによる自動校正時に使用するプロンプトをカスタマイズできます
- **校閲プロンプト**: GPT-4.1による校閲時に使用するプロンプトをカスタマイズできます

## 特殊機能の使い方

### 追記モード
1. 追記したい入力フィールドをクリックして選択します
2. 追記モードボタン(+)をクリックしてONにします（ボタンが強調表示されます）
3. マイクボタンをクリックして音声入力を開始します
4. 話し終わると、既存のテキストに追記されます

### 校閲機能
1. 校閲したいテキストが入力されている状態で校閲ボタン(✓)をクリックします
2. GPT-4.1による校閲が開始され、結果が入力フィールドに反映されます

### 編集機能
1. 編集したいテキストが入力されている状態で編集ボタン(✎)をクリックします
2. マイクが自動的に有効になり、編集指示を音声で入力できます
3. 例: 「最初の段落を削除して」「もっと簡潔にして」など

### 自動送信機能
1. 自動送信ボタンをクリックしてONにします
2. 音声入力後、自動的に送信ボタンがクリックされます
3. 追記モードがONの場合は、自動送信は行われません

### モーダルウィンドウ表示
1. モーダル表示切替ボタンをクリックしてONにします
2. 入力フィールドが見つからない場合や特定のサイト（Twitter等）では、音声認識結果がモーダルウィンドウに表示されます
3. モーダルウィンドウからテキストをコピーして使用できます

## 注意事項

- OpenAI APIキーが必要です（設定ボタンから設定可能）
- マイクへのアクセス許可が必要です
- 一部のウェブサイト（特にReactやDraft.jsベースの複雑なエディタを使用しているサイト）では、直接入力ができない場合があります。その場合はモーダルウィンドウ表示機能を使用してください。

## プライバシーポリシー

### 1. 収集する情報

otak-voice拡張機能は、以下の情報を収集します：

- **ウェブサイトのコンテンツ**: 音声認識によって入力されたテキストと、校正・校閲のためにOpenAI APIに送信されるテキスト
- **ユーザー設定**: OpenAI APIキー、選択した言語設定（日本語/英語/ベトナム語）、その他の設定

### 2. 情報の使用目的

収集した情報は、以下の目的でのみ使用されます：

- **テキスト入力の効率化**: 音声認識を使用してテキスト入力を効率化するため
- **テキスト品質の向上**: OpenAI APIを使用して音声認識結果を校正・校閲するため
- **ユーザー設定の保存**: 拡張機能の設定を保存し、次回使用時に復元するため

### 3. 情報の共有

収集した情報は、以下の場合にのみ共有されます：

- **OpenAI API**: テキストの校正・校閲のために、ユーザーが入力したテキストをOpenAI APIに送信します。この送信は、ユーザーが明示的に設定したAPIキーを使用して行われます。

当拡張機能は、上記以外の第三者とユーザーデータを共有することはありません。

### 4. 情報の保存

- **ウェブサイトのコンテンツ**: OpenAI APIに送信されたテキストは、APIリクエスト処理後に保存されません。
- **ユーザー設定**: ユーザーのOpenAI APIキー、言語設定、その他の設定は、ブラウザのローカルストレージにのみ保存され、外部サーバーに送信されることはありません。

### 5. ユーザーの権利

ユーザーは以下の権利を有します：

- **アクセス権**: 拡張機能が収集した情報にアクセスする権利
- **削除権**: 拡張機能の設定をリセットし、保存された情報を削除する権利
- **オプトアウト権**: 拡張機能の使用を中止する権利

### 6. セキュリティ

当拡張機能は、ユーザーのOpenAI APIキーを保護するために、以下の措置を講じています：

- APIキーはブラウザのローカルストレージにのみ保存され、外部サーバーに送信されることはありません
- APIキーはOpenAI APIへのリクエストにのみ使用されます

### 7. プライバシーポリシーの変更

当プライバシーポリシーは、必要に応じて更新される場合があります。変更があった場合は、このページで通知します。

### 8. お問い合わせ

プライバシーに関するご質問やご懸念がある場合は、以下の方法でお問い合わせください：

- GitHub Issueを通じて: [https://github.com/tsuyoshi-otake/otak-voice/issues](https://github.com/tsuyoshi-otake/otak-voice/issues)

最終更新日: 2025年5月4日